(this["webpackJsonpgithub-search"]=this["webpackJsonpgithub-search"]||[]).push([[0],{78:function(e,t,r){e.exports=r(91)},88:function(e,t,r){},89:function(e,t,r){},90:function(e,t,r){},91:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),c=r(12),s=r(15),o=r(27),u=r(13),i=r(23),l={avatarUrl:null,currentPage:1,1:[],rowsPerPage:5,sort:{direction:"asc",orderBy:"full_name"},errorMessage:null,lastPage:1},E=function(e){if(null==e)return 1;var t=e.split(",").find((function(e){return' rel="last"'===e.split(";")[1]}));if(t){var r=/&page=(\d*)/.exec(t);return Number(r[1])}return!1},p=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"FETCH_REPOS_REQUESTED":return Object(i.a)({},t,{sort:{orderBy:r.orderBy||t.sort.orderBy,direction:r.direction||t.sort.direction},rowsPerPage:r.rowsPerPage||t.rowsPerPage});case"FETCH_REPOS_SUCCEEDED":E(r.headers.get("Link"));return Object(i.a)({},t,(e={},Object(u.a)(e,r.page,r.response),Object(u.a)(e,"currentPage",r.page||t.currentPage),Object(u.a)(e,"avatarUrl",r.response[0]?r.response[0].owner.avatar_url:null),Object(u.a)(e,"errorMessage",null),Object(u.a)(e,"lastPage",E(r.headers.get("Link"))||t.lastPage),e));case"FETCH_REPOS_FAILED":return Object(i.a)({},t,{errorMessage:r.message});default:return t}},g={users:[],searchedUser:null,selectedUser:null,errorMessage:null},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_USERS_REQUESTED":return Object(i.a)({},e,{searchedUser:t.prefix});case"FETCH_USERS_SUCCEEDED":return Object(i.a)({},e,{users:t.response.items,errorMessage:null});case"FETCH_USERS_FAILED":return Object(i.a)({},e,{errorMessage:t.message});case"SET_SELECTED_USER":return Object(i.a)({},e,{selectedUser:t.selectedUser});default:return e}},f=Object(o.c)({reposList:p,usersList:d}),b=r(36),m=r.n(b),h=r(17),O=m.a.mark(P),j=m.a.mark(v),S=m.a.mark(w);function P(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.a)([Object(h.e)("FETCH_USERS_REQUESTED",v),Object(h.e)("FETCH_REPOS_REQUESTED",w)]);case 2:case"end":return e.stop()}}),O)}function v(e){var t;return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(h.b)(_,e.prefix);case 3:return t=r.sent,r.next=6,Object(h.c)({type:"FETCH_USERS_SUCCEEDED",response:t});case 6:r.next=12;break;case 8:return r.prev=8,r.t0=r.catch(0),r.next=12,Object(h.c)({type:"FETCH_USERS_FAILED",message:r.t0.message});case 12:case"end":return r.stop()}}),j,null,[[0,8]])}function _(e){return fetch("https://api.github.com/search/users?q=".concat(e)).then((function(e){return e.json().then((function(t){if(e.status>=200&&e.status<=300)return t;throw e})).catch((function(e){throw e}))}))}function w(e){var t,r,n,a,c,s;return m.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,Object(h.d)((function(e){return e.usersList.searchedUser}));case 3:return t=o.sent,o.next=6,Object(h.d)((function(e){return e.reposList.currentPage}));case 6:return r=o.sent,o.next=9,Object(h.d)((function(e){return e.reposList.rowsPerPage}));case 9:return n=o.sent,o.next=12,Object(h.d)((function(e){return e.reposList.sort.orderBy}));case 12:return a=o.sent,o.next=15,Object(h.d)((function(e){return e.reposList.sort.direction}));case 15:return c=o.sent,o.next=18,Object(h.b)(C,{userLogin:e.userLogin||t,page:e.page||r,rowsPerPage:e.rowsPerPage||n,orderBy:e.orderBy||a,direction:e.direction||c});case 18:return s=o.sent,o.next=21,Object(h.c)({type:"FETCH_REPOS_SUCCEEDED",response:s.json,headers:s.headers,page:e.page||r});case 21:if(!e.userLogin){o.next=24;break}return o.next=24,Object(h.c)({type:"SET_SELECTED_USER",selectedUser:e.userLogin});case 24:o.next=30;break;case 26:return o.prev=26,o.t0=o.catch(0),o.next=30,Object(h.c)({type:"FETCH_REPOS_FAILED",message:o.t0.statusText});case 30:case"end":return o.stop()}}),S,null,[[0,26]])}function C(e){var t=e.userLogin,r=e.page,n=e.rowsPerPage,a=e.orderBy,c=e.direction;return fetch("https://api.github.com/users/".concat(t,"/repos?per_page=").concat(n)+"&page=".concat(r,"&sort=").concat(a,"&direction=").concat(c)).then((function(e){return e.json().then((function(t){if(e.status>=200&&e.status<=300)return{headers:e.headers,json:t};throw e}))})).catch((function(e){throw e}))}var L=r(65),U=(r(88),r(89),r(39)),T=r(151),y=r(148),R=function(){var e=Object(s.c)((function(e){return e.usersList.users})),t=Object(s.b)(),r=Object(n.useState)(""),c=Object(U.a)(r,2),o=c[0],u=c[1],l=Object(n.useRef)(!1);Object(n.useEffect)((function(){return o.length>=3&&(clearTimeout(l.current),l.current=setTimeout((function(){return t({type:"FETCH_USERS_REQUESTED",prefix:o})}),600)),function(){clearTimeout(l.current)}}),[o,t]);return a.a.createElement(y.a,{freeSolo:!0,disableClearable:!0,onChange:function(e,r){!function(e){var r=e.trim();r.length>=3&&(u(r),t({type:"FETCH_REPOS_REQUESTED",userLogin:r}))}(r)},options:e.map((function(e){return e.login})),style:{marginBottom:"9px"},renderInput:function(e){return a.a.createElement(T.a,Object.assign({},e,{onChange:function(e){return t=e.target.value,void u(t.trim());var t},label:"\u041a\u043e\u0433\u043e \u0438\u0449\u0435\u043c?",margin:"normal",variant:"outlined",InputProps:Object(i.a)({},e.InputProps,{type:"search"})}))}})},x=r(136),D=r(152),F=(r(90),function(){var e=Object(s.c)((function(e){return e.usersList.selectedUser})),t=Object(s.c)((function(e){return e.reposList.avatarUrl}));return a.a.createElement(x.a,{className:"UserCard"},a.a.createElement(D.a,{style:{width:"80px",height:"80px",marginRight:"16px"},alt:e,src:t}),e)}),H=r(141),k=r(145),B=r(142),Q=r(143),I=r(144),M=r(149),N=r(153),A=r(146),J=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.reposList.currentPage})),r=Object(s.c)((function(e){return e.reposList[t]})),n=Object(s.c)((function(e){return e.reposList.rowsPerPage})),c=Object(s.c)((function(e){return e.reposList.sort.direction})),o=Object(s.c)((function(e){return e.reposList.sort.orderBy})),u=Object(s.c)((function(e){return e.reposList.lastPage})),i=function(e){return new Date(e).toLocaleDateString()},l=function(t){return function(r){!function(t,r){e({type:"FETCH_REPOS_REQUESTED",orderBy:r,direction:r===o&&"asc"===c?"desc":"asc"})}(0,t)}};return a.a.createElement(x.a,null,a.a.createElement(H.a,null,a.a.createElement(B.a,null,a.a.createElement(Q.a,null,[{label:"Name",orderSelector:"full_name"},{label:"Language"},{label:"Created at",orderSelector:"created"},{label:"Updated at",orderSelector:"updated"},{label:"Pushed at",orderSelector:"pushed"}].map((function(e,t){return a.a.createElement(I.a,{key:t},e.orderSelector?a.a.createElement(N.a,{active:o===e.orderSelector,onClick:l(e.orderSelector),direction:c},e.label):e.label)})))),a.a.createElement(k.a,null,r.map((function(e){return a.a.createElement(Q.a,{key:e.id},a.a.createElement(I.a,null,a.a.createElement(A.a,{href:e.html_url,target:"_blank"},e.name)),a.a.createElement(I.a,null,e.language),a.a.createElement(I.a,null,i(e.created_at)),a.a.createElement(I.a,null,i(e.updated_at)),a.a.createElement(I.a,null,i(e.pushed_at)))})))),a.a.createElement(M.a,{rowsPerPageOptions:[5,10,25],labelRowsPerPage:"\u0420\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0435\u0432 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435",labelDisplayedRows:function(e){var n,a=e.from,c=e.to;e.count;return n=t!==u?c:a+r.length-1,"".concat(t," \u0441\u0442\u0440. (").concat(a,"-").concat(n,")")},component:"div",count:n*u,rowsPerPage:n,page:t-1,onChangeRowsPerPage:function(t){e({type:"FETCH_REPOS_REQUESTED",rowsPerPage:Number(t.target.value),page:1})},onChangePage:function(t,r){e({type:"FETCH_REPOS_REQUESTED",page:r+1})}}))},W=r(150);var q=function(){var e=Object(s.c)((function(e){return e.reposList.errorMessage})),t=Object(s.c)((function(e){return e.usersList.errorMessage})),r=Object(s.c)((function(e){return e.reposList[1].length}));return a.a.createElement("div",{className:"App"},a.a.createElement(R,null),t?a.a.createElement(W.a,{severity:"error"},t):e?a.a.createElement(W.a,{severity:"error"},"Not Found"===e?"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d":e):0===r?a.a.createElement(W.a,{severity:"info"},"\u0422\u0443\u0442 \u043d\u0435\u0442 \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0435\u0432 Q( ' - ' Q)"):a.a.createElement(a.a.Fragment,null,a.a.createElement(F,null),a.a.createElement(J,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var $=Object(L.a)(),z=Object(o.e)(f,Object(o.a)($));$.run(P),Object(c.render)(a.a.createElement(s.a,{store:z},a.a.createElement(q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[78,1,2]]]);
//# sourceMappingURL=main.e2156764.chunk.js.map